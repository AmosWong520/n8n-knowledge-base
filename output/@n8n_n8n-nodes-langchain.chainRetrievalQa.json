{
  "node_id": "@n8n/n8n-nodes-langchain.chainRetrievalQa",
  "name": "Question and Answer Chain",
  "version": 1,
  "semantic_context": "Answer questions about retrieved documents",
  "natural_language_description": "这是 Question and Answer Chain 节点。主要用于: Answer questions about retrieved documents",
  "parameters": {
    "notice": {
      "displayName": "Save time with an <a href=\"/templates/1960\" target=\"_blank\">example</a> of how this node works",
      "name": "notice",
      "type": "notice",
      "required": false,
      "default": "",
      "description": "",
      "natural_language_description": "参数名: Save time with an <a href=\"/templates/1960\" target=\"_blank\">example</a> of how this node works"
    },
    "query": {
      "displayName": "Query",
      "name": "query",
      "type": "string",
      "required": true,
      "default": "={{ $json.chatInput }}",
      "description": "",
      "natural_language_description": "参数名: Query | 默认值: ={{ $json.chatInput }} | (必填项)"
    },
    "promptType": {
      "displayName": "Source for Prompt (User Message)",
      "name": "promptType",
      "type": "options",
      "required": false,
      "default": "auto",
      "description": "",
      "natural_language_description": "参数名: Source for Prompt (User Message) | 默认值: auto",
      "available_options": [
        "Connected Chat Trigger Node (值: auto) - Looks for an input field called 'chatInput' that is coming from a directly connected Chat Trigger",
        "Connected Guardrails Node (值: guardrails) - Looks for an input field called 'guardrailsInput' that is coming from a directly connected Guardrails Node",
        "Define below (值: define) - Use an expression to reference data in previous nodes or enter static text"
      ]
    },
    "text": {
      "displayName": "Prompt (User Message)",
      "name": "text",
      "type": "string",
      "required": true,
      "default": "",
      "description": "",
      "natural_language_description": "参数名: Prompt (User Message) | (必填项)"
    },
    "options": {
      "displayName": "Options",
      "name": "options",
      "type": "collection",
      "required": false,
      "default": {},
      "description": "",
      "natural_language_description": "参数名: Options | 默认值: {}",
      "available_options": [
        "systemPromptTemplate (值: None) - Template string used for the system prompt. This should include the variable `{context}` for the provided context. For text completion models, you should also include the variable `{question}` for the user’s query.",
        "systemPromptTemplate (值: None) - Template string used for the system prompt. This should include the variable `{context}` for the provided context. For text completion models, you should also include the variable `{input}` for the user’s query.",
        "batching (值: None) - Batch processing options for rate limiting"
      ]
    }
  },
  "ids_manifest": {
    "role": "processor",
    "input_contract": {
      "preferred_source": "{{ $json.payload.primary }}",
      "accepts_binary": false
    },
    "output_contract": {
      "standardizer_logic": "return { payload: { primary: upstream.text || upstream.content || upstream.answer || upstream } }"
    }
  }
}