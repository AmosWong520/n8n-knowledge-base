{
  "node_id": "n8n-nodes-base.bannerbear",
  "name": "n8n-nodes-base.bannerbear",
  "version": 1,
  "semantic_context": "Consume Bannerbear API",
  "parameters": {
    "resource": {
      "displayName": "Resource",
      "name": "resource",
      "type": "options",
      "noDataExpression": true,
      "options": [
        {
          "name": "Image",
          "value": "image"
        },
        {
          "name": "Template",
          "value": "template"
        }
      ],
      "default": "image",
      "ai_hint": "根据 REST 规范选择方法: 查询用 GET，创建用 POST，更新用 PUT/PATCH。"
    },
    "operation": {
      "displayName": "Operation",
      "name": "operation",
      "type": "options",
      "noDataExpression": true,
      "displayOptions": {
        "show": {
          "resource": [
            "template"
          ]
        }
      },
      "options": [
        {
          "name": "Get",
          "value": "get",
          "description": "Get a template",
          "action": "Get a template"
        },
        {
          "name": "Get Many",
          "value": "getAll",
          "description": "Get many templates",
          "action": "Get many templates"
        }
      ],
      "default": "get",
      "ai_hint": "根据 REST 规范选择方法: 查询用 GET，创建用 POST，更新用 PUT/PATCH。"
    },
    "templateId": {
      "displayName": "Template ID",
      "name": "templateId",
      "type": "string",
      "required": true,
      "default": "",
      "displayOptions": {
        "show": {
          "resource": [
            "template"
          ],
          "operation": [
            "get"
          ]
        }
      },
      "description": "Unique identifier for the template",
      "ai_hint": "Unique identifier for the template"
    },
    "additionalFields": {
      "displayName": "Additional Fields",
      "name": "additionalFields",
      "type": "collection",
      "placeholder": "Add Field",
      "displayOptions": {
        "show": {
          "resource": [
            "image"
          ],
          "operation": [
            "create"
          ]
        }
      },
      "default": {},
      "options": [
        {
          "displayName": "Metadata",
          "name": "metadata",
          "type": "string",
          "default": "",
          "description": "Metadata that you need to store e.g. ID of a record in your DB"
        },
        {
          "displayName": "Wait for Image",
          "name": "waitForImage",
          "type": "boolean",
          "default": false,
          "description": "Whether to wait for the image to be proccesed before returning. If after three tries the images is not ready, an error will be thrown. Number of tries can be increased by setting \"Wait Max Tries\"."
        },
        {
          "displayName": "Wait Max Tries",
          "name": "waitForImageMaxTries",
          "type": "number",
          "typeOptions": {
            "minValue": 1,
            "maxValue": 10
          },
          "displayOptions": {
            "show": {
              "waitForImage": [
                true
              ]
            }
          },
          "default": 3,
          "description": "How often it should check if the image is available before it fails"
        },
        {
          "displayName": "Webhook URL",
          "name": "webhookUrl",
          "type": "string",
          "default": "",
          "description": "A URL to POST the Image object to upon rendering completed"
        }
      ],
      "ai_hint": "此参数为 fixedCollection，包含嵌套字段，不要扁平化。"
    },
    "modificationsUi": {
      "displayName": "Modifications",
      "name": "modificationsUi",
      "type": "fixedCollection",
      "typeOptions": {
        "multipleValues": true
      },
      "placeholder": "Add Modification",
      "displayOptions": {
        "show": {
          "resource": [
            "image"
          ],
          "operation": [
            "create"
          ]
        }
      },
      "default": {},
      "options": [
        {
          "displayName": "Modification",
          "name": "modificationsValues",
          "values": [
            {
              "displayName": "Name or ID",
              "name": "name",
              "type": "options",
              "typeOptions": {
                "loadOptionsMethod": "getModificationNames",
                "loadOptionsDependsOn": [
                  "templateId"
                ]
              },
              "default": "",
              "description": "The name of the item you want to change. Choose from the list, or specify an ID using an <a href=\"https://docs.n8n.io/code/expressions/\">expression</a>."
            },
            {
              "displayName": "Text",
              "name": "text",
              "type": "string",
              "default": "",
              "description": "Replacement text you want to use"
            },
            {
              "displayName": "Color",
              "name": "color",
              "type": "color",
              "default": "",
              "description": "Color hex of object"
            },
            {
              "displayName": "Background",
              "name": "background",
              "type": "color",
              "default": "",
              "description": "Color hex of text background"
            },
            {
              "displayName": "Image URL",
              "name": "imageUrl",
              "type": "string",
              "default": "",
              "description": "Replacement image URL you want to use (must be publicly viewable)"
            }
          ]
        }
      ],
      "ai_hint": "此参数为 fixedCollection，包含嵌套字段，不要扁平化。"
    },
    "imageId": {
      "displayName": "Image ID",
      "name": "imageId",
      "type": "string",
      "required": true,
      "default": "",
      "displayOptions": {
        "show": {
          "resource": [
            "image"
          ],
          "operation": [
            "get"
          ]
        }
      },
      "description": "Unique identifier for the image",
      "ai_hint": "Unique identifier for the image"
    }
  },
  "configuration_logic": {
    "required_sequence": [
      "resource",
      "operation",
      "templateId",
      "additionalFields",
      "modificationsUi",
      "imageId",
      "operation",
      "templateId"
    ],
    "conditional_rules": [
      "IF resource == 'image' THEN SHOW parameter 'operation'",
      "IF resource == 'image' AND operation == 'create' THEN SHOW parameter 'templateId'",
      "IF resource == 'image' AND operation == 'create' THEN SHOW parameter 'additionalFields'",
      "IF waitForImage == True THEN SHOW parameter 'waitForImageMaxTries'",
      "IF resource == 'image' AND operation == 'create' THEN SHOW parameter 'modificationsUi'",
      "IF resource == 'image' AND operation == 'get' THEN SHOW parameter 'imageId'",
      "IF resource == 'template' THEN SHOW parameter 'operation'",
      "IF resource == 'template' AND operation == 'get' THEN SHOW parameter 'templateId'"
    ]
  }
}