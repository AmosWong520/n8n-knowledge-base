{
  "node_id": "n8n-nodes-base.respondToWebhook",
  "name": "n8n-nodes-base.respondToWebhook",
  "version": [
    1,
    1.1,
    1.2,
    1.3,
    1.4,
    1.5
  ],
  "semantic_context": "Returns data for Webhook",
  "parameters": {
    "enableResponseOutput": {
      "displayName": "Enable Response Output Branch",
      "name": "enableResponseOutput",
      "type": "boolean",
      "default": false,
      "description": "Whether to provide an additional output branch with the response sent to the webhook",
      "isNodeSetting": true,
      "displayOptions": {
        "show": {
          "@version": [
            {
              "_cnd": {
                "gte": 1.4
              }
            }
          ]
        }
      },
      "ai_hint": "布尔值：true 或 false。"
    },
    "generalNotice": {
      "displayName": "Verify that the \"Webhook\" node's \"Respond\" parameter is set to \"Using Respond to Webhook Node\". <a href=\"https://docs.n8n.io/integrations/builtin/core-nodes/n8n-nodes-base.respondtowebhook/\" target=\"_blank\">More details",
      "name": "generalNotice",
      "type": "notice",
      "default": ""
    },
    "respondWith": {
      "displayName": "Respond With",
      "name": "respondWith",
      "type": "options",
      "options": [
        {
          "name": "All Incoming Items",
          "value": "allIncomingItems",
          "description": "Respond with all input JSON items"
        },
        {
          "name": "Binary File",
          "value": "binary",
          "description": "Respond with incoming file binary data"
        },
        {
          "name": "First Incoming Item",
          "value": "firstIncomingItem",
          "description": "Respond with the first input JSON item"
        },
        {
          "name": "JSON",
          "value": "json",
          "description": "Respond with a custom JSON body"
        },
        {
          "name": "JWT Token",
          "value": "jwt",
          "description": "Respond with a JWT token"
        },
        {
          "name": "No Data",
          "value": "noData",
          "description": "Respond with an empty body"
        },
        {
          "name": "Redirect",
          "value": "redirect",
          "description": "Respond with a redirect to a given URL"
        },
        {
          "name": "Text",
          "value": "text",
          "description": "Respond with a simple text message body"
        }
      ],
      "default": "firstIncomingItem",
      "description": "The data that should be returned",
      "noDataExpression": true,
      "displayOptions": {
        "show": {
          "@version": [
            {
              "_cnd": {
                "gte": 1.2
              }
            }
          ]
        }
      },
      "ai_hint": "根据 REST 规范选择方法: 查询用 GET，创建用 POST，更新用 PUT/PATCH。"
    },
    "credentials": {
      "displayName": "Credentials",
      "name": "credentials",
      "type": "credentials",
      "default": "",
      "displayOptions": {
        "show": {
          "respondWith": [
            "jwt"
          ]
        }
      }
    },
    "webhookNotice": {
      "displayName": "When using expressions, note that this node will only run for the first item in the input data",
      "name": "webhookNotice",
      "type": "notice",
      "displayOptions": {
        "show": {
          "respondWith": [
            "json",
            "text",
            "jwt"
          ]
        }
      },
      "default": ""
    },
    "redirectURL": {
      "displayName": "Redirect URL",
      "name": "redirectURL",
      "type": "string",
      "required": true,
      "displayOptions": {
        "show": {
          "respondWith": [
            "redirect"
          ]
        }
      },
      "default": "",
      "placeholder": "e.g. http://www.n8n.io",
      "description": "The URL to redirect to",
      "validateType": "url",
      "ai_hint": "必须包含协议头 (http:// 或 https://)。支持表达式注入。"
    },
    "responseBody": {
      "displayName": "Response Body",
      "name": "responseBody",
      "type": "string",
      "displayOptions": {
        "show": {
          "respondWith": [
            "text"
          ]
        }
      },
      "typeOptions": {
        "rows": 2
      },
      "default": "",
      "placeholder": "e.g. Workflow completed",
      "description": "The HTTP response text data",
      "ai_hint": "The HTTP response text data"
    },
    "payload": {
      "displayName": "Payload",
      "name": "payload",
      "type": "json",
      "displayOptions": {
        "show": {
          "respondWith": [
            "jwt"
          ]
        }
      },
      "default": "{\n  \"myField\": \"value\"\n}",
      "typeOptions": {
        "rows": 4
      },
      "validateType": "object",
      "description": "The payload to include in the JWT token",
      "ai_hint": "The payload to include in the JWT token"
    },
    "responseDataSource": {
      "displayName": "Response Data Source",
      "name": "responseDataSource",
      "type": "options",
      "displayOptions": {
        "show": {
          "respondWith": [
            "binary"
          ]
        }
      },
      "options": [
        {
          "name": "Choose Automatically From Input",
          "value": "automatically",
          "description": "Use if input data will contain a single piece of binary data"
        },
        {
          "name": "Specify Myself",
          "value": "set",
          "description": "Enter the name of the input field the binary data will be in"
        }
      ],
      "default": "automatically",
      "ai_hint": "根据 REST 规范选择方法: 查询用 GET，创建用 POST，更新用 PUT/PATCH。"
    },
    "inputFieldName": {
      "displayName": "Input Field Name",
      "name": "inputFieldName",
      "type": "string",
      "required": true,
      "default": "data",
      "displayOptions": {
        "show": {
          "respondWith": [
            "binary"
          ],
          "responseDataSource": [
            "set"
          ]
        }
      },
      "description": "The name of the node input field with the binary data",
      "ai_hint": "The name of the node input field with the binary data"
    },
    "contentTypeNotice": {
      "displayName": "To avoid unexpected behavior, add a \"Content-Type\" response header with the appropriate value",
      "name": "contentTypeNotice",
      "type": "notice",
      "default": "",
      "displayOptions": {
        "show": {
          "respondWith": [
            "text"
          ]
        }
      }
    },
    "options": {
      "displayName": "Options",
      "name": "options",
      "type": "collection",
      "placeholder": "Add option",
      "default": {},
      "options": [
        {
          "displayName": "Response Code",
          "name": "responseCode",
          "type": "number",
          "typeOptions": {
            "minValue": 100,
            "maxValue": 599
          },
          "default": 200,
          "description": "The HTTP response code to return. Defaults to 200."
        },
        {
          "displayName": "Response Headers",
          "name": "responseHeaders",
          "placeholder": "Add Response Header",
          "description": "Add headers to the webhook response",
          "type": "fixedCollection",
          "typeOptions": {
            "multipleValues": true
          },
          "default": {},
          "options": [
            {
              "name": "entries",
              "displayName": "Entries",
              "values": [
                {
                  "displayName": "Name",
                  "name": "name",
                  "type": "string",
                  "default": "",
                  "description": "Name of the header"
                },
                {
                  "displayName": "Value",
                  "name": "value",
                  "type": "string",
                  "default": "",
                  "description": "Value of the header"
                }
              ]
            }
          ]
        },
        {
          "displayName": "Put Response in Field",
          "name": "responseKey",
          "type": "string",
          "displayOptions": {
            "show": {
              "/respondWith": [
                "allIncomingItems",
                "firstIncomingItem"
              ]
            }
          },
          "default": "",
          "description": "The name of the response field to put all items in",
          "placeholder": "e.g. data"
        },
        {
          "displayName": "Enable Streaming",
          "name": "enableStreaming",
          "type": "boolean",
          "default": true,
          "description": "Whether to enable streaming to the response",
          "displayOptions": {
            "show": {
              "/respondWith": [
                "allIncomingItems",
                "firstIncomingItem",
                "text",
                "json",
                "jwt"
              ],
              "@version": [
                {
                  "_cnd": {
                    "gte": 1.5
                  }
                }
              ]
            }
          }
        }
      ],
      "ai_hint": "此参数为 fixedCollection，包含嵌套字段，不要扁平化。"
    }
  },
  "configuration_logic": {
    "required_sequence": [
      "enableResponseOutput",
      "generalNotice",
      "respondWith",
      "respondWith",
      "credentials",
      "webhookNotice",
      "redirectURL",
      "responseBody",
      "payload",
      "responseBody",
      "responseDataSource",
      "inputFieldName",
      "contentTypeNotice",
      "options"
    ],
    "conditional_rules": [
      "IF @version == {'_cnd': {'gte': 1.4}} THEN SHOW parameter 'enableResponseOutput'",
      "IF @version IN [1, 1.1] THEN SHOW parameter 'respondWith'",
      "IF @version == {'_cnd': {'gte': 1.2}} THEN SHOW parameter 'respondWith'",
      "IF respondWith == 'jwt' THEN SHOW parameter 'credentials'",
      "IF respondWith IN [\"json\", \"text\", \"jwt\"] THEN SHOW parameter 'webhookNotice'",
      "IF respondWith == 'redirect' THEN SHOW parameter 'redirectURL'",
      "IF respondWith == 'json' THEN SHOW parameter 'responseBody'",
      "IF respondWith == 'jwt' THEN SHOW parameter 'payload'",
      "IF respondWith == 'text' THEN SHOW parameter 'responseBody'",
      "IF respondWith == 'binary' THEN SHOW parameter 'responseDataSource'",
      "IF respondWith == 'binary' AND responseDataSource == 'set' THEN SHOW parameter 'inputFieldName'",
      "IF respondWith == 'text' THEN SHOW parameter 'contentTypeNotice'",
      "IF /respondWith IN [\"allIncomingItems\", \"firstIncomingItem\"] THEN SHOW parameter 'responseKey'",
      "IF /respondWith IN [\"allIncomingItems\", \"firstIncomingItem\", \"text\", \"json\", \"jwt\"] AND @version == {'_cnd': {'gte': 1.5}} THEN SHOW parameter 'enableStreaming'"
    ]
  }
}