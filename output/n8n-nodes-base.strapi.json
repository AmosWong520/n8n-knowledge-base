{
  "node_id": "n8n-nodes-base.strapi",
  "name": "n8n-nodes-base.strapi",
  "version": 1,
  "semantic_context": "Consume Strapi API",
  "parameters": {
    "authentication": {
      "displayName": "Authentication",
      "name": "authentication",
      "type": "options",
      "options": [
        {
          "name": "Username & Password",
          "value": "password"
        },
        {
          "name": "API Token",
          "value": "token"
        }
      ],
      "default": "password",
      "ai_hint": "根据 REST 规范选择方法: 查询用 GET，创建用 POST，更新用 PUT/PATCH。 与鉴权相关，注意不要在公共日志中输出敏感信息。"
    },
    "resource": {
      "displayName": "Resource",
      "name": "resource",
      "noDataExpression": true,
      "type": "options",
      "options": [
        {
          "name": "Entry",
          "value": "entry"
        },
        {
          "name": "Custom API Call",
          "value": "__CUSTOM_API_CALL__"
        }
      ],
      "default": "entry",
      "ai_hint": "根据 REST 规范选择方法: 查询用 GET，创建用 POST，更新用 PUT/PATCH。"
    },
    "operation": {
      "displayName": "Operation",
      "name": "operation",
      "noDataExpression": true,
      "type": "options",
      "displayOptions": {
        "show": {
          "resource": [
            "entry"
          ]
        }
      },
      "options": [
        {
          "name": "Create",
          "value": "create",
          "description": "Create an entry",
          "action": "Create an entry"
        },
        {
          "name": "Delete",
          "value": "delete",
          "description": "Delete an entry",
          "action": "Delete an entry"
        },
        {
          "name": "Get",
          "value": "get",
          "description": "Get an entry",
          "action": "Get an entry"
        },
        {
          "name": "Get Many",
          "value": "getAll",
          "description": "Get many entries",
          "action": "Get many entries"
        },
        {
          "name": "Update",
          "value": "update",
          "description": "Update an entry",
          "action": "Update an entry"
        },
        {
          "name": "Custom API Call",
          "value": "__CUSTOM_API_CALL__"
        }
      ],
      "default": "get",
      "ai_hint": "根据 REST 规范选择方法: 查询用 GET，创建用 POST，更新用 PUT/PATCH。"
    },
    "contentType": {
      "displayName": "Content Type",
      "name": "contentType",
      "type": "string",
      "default": "",
      "required": true,
      "displayOptions": {
        "show": {
          "resource": [
            "entry"
          ],
          "operation": [
            "update"
          ]
        }
      },
      "description": "Name of the content type",
      "ai_hint": "Name of the content type"
    },
    "columns": {
      "displayName": "Columns",
      "name": "columns",
      "type": "string",
      "displayOptions": {
        "show": {
          "resource": [
            "entry"
          ],
          "operation": [
            "update"
          ]
        }
      },
      "default": "",
      "placeholder": "id,name,description",
      "description": "Comma-separated list of the properties which should used as columns for the new rows",
      "ai_hint": "Comma-separated list of the properties which should used as columns for the new rows"
    },
    "entryId": {
      "displayName": "Entry ID",
      "name": "entryId",
      "type": "string",
      "default": "",
      "required": true,
      "displayOptions": {
        "show": {
          "resource": [
            "entry"
          ],
          "operation": [
            "get"
          ]
        }
      },
      "description": "The ID of the entry to get",
      "ai_hint": "The ID of the entry to get"
    },
    "returnAll": {
      "displayName": "Return All",
      "name": "returnAll",
      "type": "boolean",
      "displayOptions": {
        "show": {
          "resource": [
            "entry"
          ],
          "operation": [
            "getAll"
          ]
        }
      },
      "default": false,
      "description": "Whether to return all results or only up to a given limit",
      "ai_hint": "布尔值：true 或 false。"
    },
    "limit": {
      "displayName": "Limit",
      "name": "limit",
      "type": "number",
      "displayOptions": {
        "show": {
          "resource": [
            "entry"
          ],
          "operation": [
            "getAll"
          ],
          "returnAll": [
            false
          ]
        }
      },
      "typeOptions": {
        "minValue": 1,
        "maxValue": 100
      },
      "default": 50,
      "description": "Max number of results to return",
      "ai_hint": "Max number of results to return"
    },
    "options": {
      "displayName": "Options",
      "name": "options",
      "type": "collection",
      "placeholder": "Add Field",
      "default": {},
      "displayOptions": {
        "show": {
          "resource": [
            "entry"
          ],
          "operation": [
            "getAll"
          ]
        }
      },
      "options": [
        {
          "displayName": "Publication State",
          "name": "publicationState",
          "type": "options",
          "options": [
            {
              "name": "Live",
              "value": "live"
            },
            {
              "name": "Preview",
              "value": "preview"
            }
          ],
          "default": "",
          "description": "Only select entries matching the publication state provided"
        },
        {
          "displayName": "Sort Fields",
          "name": "sort",
          "type": "string",
          "typeOptions": {
            "multipleValues": true,
            "multipleValueButtonText": "Add Sort Field"
          },
          "default": "",
          "placeholder": "name:asc",
          "description": "Name of the fields to sort the data by. By default will be sorted ascendingly. To modify that behavior, you have to add the sort direction after the name of sort field preceded by a colon. For example: <code>name:asc</code>."
        },
        {
          "displayName": "Where (JSON)",
          "name": "where",
          "type": "string",
          "default": "",
          "description": "JSON query to filter the data. <a href=\"https://strapi.io/documentation/developer-docs/latest/developer-resources/content-api/content-api.html#filters\">More info</a>."
        }
      ],
      "ai_hint": "此参数为 fixedCollection，包含嵌套字段，不要扁平化。"
    },
    "updateKey": {
      "displayName": "Update Key",
      "name": "updateKey",
      "type": "string",
      "displayOptions": {
        "show": {
          "resource": [
            "entry"
          ],
          "operation": [
            "update"
          ]
        }
      },
      "default": "id",
      "required": true,
      "description": "Name of the property which decides which rows in the database should be updated. Normally that would be \"id\".",
      "ai_hint": "Name of the property which decides which rows in the database should be updated. Normally that would be \"id\"."
    }
  },
  "configuration_logic": {
    "required_sequence": [
      "authentication",
      "resource",
      "operation",
      "contentType",
      "columns",
      "contentType",
      "entryId",
      "contentType",
      "entryId",
      "contentType",
      "returnAll",
      "limit",
      "options",
      "contentType",
      "updateKey",
      "columns"
    ],
    "conditional_rules": [
      "IF resource == 'entry' THEN SHOW parameter 'operation'",
      "IF resource == 'entry' AND operation == 'create' THEN SHOW parameter 'contentType'",
      "IF resource == 'entry' AND operation == 'create' THEN SHOW parameter 'columns'",
      "IF resource == 'entry' AND operation == 'delete' THEN SHOW parameter 'contentType'",
      "IF resource == 'entry' AND operation == 'delete' THEN SHOW parameter 'entryId'",
      "IF resource == 'entry' AND operation == 'get' THEN SHOW parameter 'contentType'",
      "IF resource == 'entry' AND operation == 'get' THEN SHOW parameter 'entryId'",
      "IF resource == 'entry' AND operation == 'getAll' THEN SHOW parameter 'contentType'",
      "IF resource == 'entry' AND operation == 'getAll' THEN SHOW parameter 'returnAll'",
      "IF resource == 'entry' AND operation == 'getAll' AND returnAll == False THEN SHOW parameter 'limit'",
      "IF resource == 'entry' AND operation == 'getAll' THEN SHOW parameter 'options'",
      "IF resource == 'entry' AND operation == 'update' THEN SHOW parameter 'contentType'",
      "IF resource == 'entry' AND operation == 'update' THEN SHOW parameter 'updateKey'",
      "IF resource == 'entry' AND operation == 'update' THEN SHOW parameter 'columns'"
    ]
  }
}