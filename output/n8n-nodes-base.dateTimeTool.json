{
  "node_id": "n8n-nodes-base.dateTimeTool",
  "name": "n8n-nodes-base.dateTimeTool",
  "version": 2,
  "semantic_context": "Manipulate date and time values",
  "parameters": {
    "descriptionType": {
      "displayName": "Tool Description",
      "name": "descriptionType",
      "type": "options",
      "noDataExpression": true,
      "options": [
        {
          "name": "Set Automatically",
          "value": "auto",
          "description": "Automatically set based on resource and operation"
        },
        {
          "name": "Set Manually",
          "value": "manual",
          "description": "Manually set the description"
        }
      ],
      "default": "auto",
      "ai_hint": "根据 REST 规范选择方法: 查询用 GET，创建用 POST，更新用 PUT/PATCH。"
    },
    "toolDescription": {
      "displayName": "Description",
      "name": "toolDescription",
      "type": "string",
      "default": "Manipulate date and time values",
      "required": true,
      "typeOptions": {
        "rows": 2
      },
      "description": "Explain to the LLM what this tool does, a good, specific description would allow LLMs to produce expected results much more often",
      "displayOptions": {
        "show": {
          "descriptionType": [
            "manual"
          ]
        }
      },
      "ai_hint": "Explain to the LLM what this tool does, a good, specific description would allow LLMs to produce expected results much more often"
    },
    "operation": {
      "displayName": "Operation",
      "name": "operation",
      "type": "options",
      "noDataExpression": true,
      "options": [
        {
          "name": "Add to a Date",
          "value": "addToDate"
        },
        {
          "name": "Extract Part of a Date",
          "value": "extractDate"
        },
        {
          "name": "Format a Date",
          "value": "formatDate"
        },
        {
          "name": "Get Current Date",
          "value": "getCurrentDate"
        },
        {
          "name": "Get Time Between Dates",
          "value": "getTimeBetweenDates"
        },
        {
          "name": "Round a Date",
          "value": "roundDate"
        },
        {
          "name": "Subtract From a Date",
          "value": "subtractFromDate"
        }
      ],
      "default": "getCurrentDate",
      "ai_hint": "根据 REST 规范选择方法: 查询用 GET，创建用 POST，更新用 PUT/PATCH。"
    },
    "notice": {
      "displayName": "You can also do this using an expression, e.g. <code>{{ your_date.extract(\"month\") }}}</code>. <a target=\"_blank\" href=\"https://docs.n8n.io/code/cookbook/luxon/\">More info</a>",
      "name": "notice",
      "type": "notice",
      "default": "",
      "displayOptions": {
        "show": {
          "operation": [
            "extractDate"
          ]
        }
      }
    },
    "includeTime": {
      "displayName": "Include Current Time",
      "name": "includeTime",
      "type": "boolean",
      "default": true,
      "description": "When deactivated, the time will be set to midnight",
      "displayOptions": {
        "show": {
          "operation": [
            "getCurrentDate"
          ]
        }
      },
      "ai_hint": "布尔值：true 或 false。"
    },
    "outputFieldName": {
      "displayName": "Output Field Name",
      "name": "outputFieldName",
      "type": "string",
      "default": "datePart",
      "description": "Name of the field to put the output in",
      "displayOptions": {
        "show": {
          "operation": [
            "extractDate"
          ]
        }
      },
      "ai_hint": "Name of the field to put the output in"
    },
    "options": {
      "displayName": "Options",
      "name": "options",
      "type": "collection",
      "placeholder": "Add option",
      "displayOptions": {
        "show": {
          "operation": [
            "extractDate"
          ]
        }
      },
      "default": {},
      "options": [
        {
          "displayName": "Include Input Fields",
          "name": "includeInputFields",
          "type": "boolean",
          "default": false,
          "description": "Whether to include all fields of the input item in the output item"
        }
      ],
      "ai_hint": "此参数为 fixedCollection，包含嵌套字段，不要扁平化。"
    },
    "magnitude": {
      "displayName": "Date to Subtract From",
      "name": "magnitude",
      "type": "string",
      "description": "The date that you want to change",
      "default": "",
      "displayOptions": {
        "show": {
          "operation": [
            "subtractFromDate"
          ]
        }
      },
      "required": true,
      "ai_hint": "The date that you want to change"
    },
    "timeUnit": {
      "displayName": "Time Unit to Subtract",
      "name": "timeUnit",
      "description": "Time unit for Duration parameter below",
      "displayOptions": {
        "show": {
          "operation": [
            "subtractFromDate"
          ]
        }
      },
      "type": "options",
      "options": [
        {
          "name": "Years",
          "value": "years"
        },
        {
          "name": "Quarters",
          "value": "quarters"
        },
        {
          "name": "Months",
          "value": "months"
        },
        {
          "name": "Weeks",
          "value": "weeks"
        },
        {
          "name": "Days",
          "value": "days"
        },
        {
          "name": "Hours",
          "value": "hours"
        },
        {
          "name": "Minutes",
          "value": "minutes"
        },
        {
          "name": "Seconds",
          "value": "seconds"
        },
        {
          "name": "Milliseconds",
          "value": "milliseconds"
        }
      ],
      "default": "days",
      "required": true,
      "ai_hint": "根据 REST 规范选择方法: 查询用 GET，创建用 POST，更新用 PUT/PATCH。"
    },
    "duration": {
      "displayName": "Duration",
      "name": "duration",
      "type": "number",
      "description": "The number of time units to subtract from the date",
      "default": 0,
      "displayOptions": {
        "show": {
          "operation": [
            "subtractFromDate"
          ]
        }
      },
      "ai_hint": "The number of time units to subtract from the date"
    },
    "date": {
      "displayName": "Date",
      "name": "date",
      "type": "string",
      "description": "The date that you want to round",
      "default": "",
      "displayOptions": {
        "show": {
          "operation": [
            "extractDate"
          ]
        }
      },
      "ai_hint": "The date that you want to round"
    },
    "format": {
      "displayName": "Format",
      "name": "format",
      "type": "options",
      "displayOptions": {
        "show": {
          "operation": [
            "formatDate"
          ]
        }
      },
      "options": [
        {
          "name": "Custom Format",
          "value": "custom"
        },
        {
          "name": "MM/DD/YYYY",
          "value": "MM/dd/yyyy",
          "description": "Example: 09/04/1986"
        },
        {
          "name": "YYYY/MM/DD",
          "value": "yyyy/MM/dd",
          "description": "Example: 1986/04/09"
        },
        {
          "name": "MMMM DD YYYY",
          "value": "MMMM dd yyyy",
          "description": "Example: April 09 1986"
        },
        {
          "name": "MM-DD-YYYY",
          "value": "MM-dd-yyyy",
          "description": "Example: 09-04-1986"
        },
        {
          "name": "YYYY-MM-DD",
          "value": "yyyy-MM-dd",
          "description": "Example: 1986-04-09"
        },
        {
          "name": "Unix Timestamp",
          "value": "X",
          "description": "Example: 1672531200"
        },
        {
          "name": "Unix Ms Timestamp",
          "value": "x",
          "description": "Example: 1674691200000"
        }
      ],
      "default": "MM/dd/yyyy",
      "description": "The format to convert the date to",
      "ai_hint": "根据 REST 规范选择方法: 查询用 GET，创建用 POST，更新用 PUT/PATCH。"
    },
    "customFormat": {
      "displayName": "Custom Format",
      "name": "customFormat",
      "type": "string",
      "displayOptions": {
        "show": {
          "format": [
            "custom"
          ],
          "operation": [
            "formatDate"
          ]
        }
      },
      "hint": "List of special tokens <a target=\"_blank\" href=\"https://moment.github.io/luxon/#/formatting?id=table-of-tokens\">More info</a>",
      "default": "",
      "placeholder": "yyyy-MM-dd"
    },
    "mode": {
      "displayName": "Mode",
      "name": "mode",
      "type": "options",
      "options": [
        {
          "name": "Round Down",
          "value": "roundDown"
        },
        {
          "name": "Round Up",
          "value": "roundUp"
        }
      ],
      "default": "roundDown",
      "displayOptions": {
        "show": {
          "operation": [
            "roundDate"
          ]
        }
      },
      "ai_hint": "根据 REST 规范选择方法: 查询用 GET，创建用 POST，更新用 PUT/PATCH。"
    },
    "toNearest": {
      "displayName": "To Nearest",
      "name": "toNearest",
      "type": "options",
      "options": [
        {
          "name": "Year",
          "value": "year"
        },
        {
          "name": "Month",
          "value": "month"
        },
        {
          "name": "Week",
          "value": "week"
        },
        {
          "name": "Day",
          "value": "day"
        },
        {
          "name": "Hour",
          "value": "hour"
        },
        {
          "name": "Minute",
          "value": "minute"
        },
        {
          "name": "Second",
          "value": "second"
        }
      ],
      "default": "month",
      "displayOptions": {
        "show": {
          "operation": [
            "roundDate"
          ],
          "mode": [
            "roundDown"
          ]
        }
      },
      "ai_hint": "根据 REST 规范选择方法: 查询用 GET，创建用 POST，更新用 PUT/PATCH。"
    },
    "to": {
      "displayName": "To",
      "name": "to",
      "type": "options",
      "options": [
        {
          "name": "End of Month",
          "value": "month"
        }
      ],
      "default": "month",
      "displayOptions": {
        "show": {
          "operation": [
            "roundDate"
          ],
          "mode": [
            "roundUp"
          ]
        }
      },
      "ai_hint": "根据 REST 规范选择方法: 查询用 GET，创建用 POST，更新用 PUT/PATCH。"
    },
    "startDate": {
      "displayName": "Start Date",
      "name": "startDate",
      "type": "string",
      "default": "",
      "displayOptions": {
        "show": {
          "operation": [
            "getTimeBetweenDates"
          ]
        }
      }
    },
    "endDate": {
      "displayName": "End Date",
      "name": "endDate",
      "type": "string",
      "default": "",
      "displayOptions": {
        "show": {
          "operation": [
            "getTimeBetweenDates"
          ]
        }
      }
    },
    "units": {
      "displayName": "Units",
      "name": "units",
      "type": "multiOptions",
      "options": [
        {
          "name": "Year",
          "value": "year"
        },
        {
          "name": "Month",
          "value": "month"
        },
        {
          "name": "Week",
          "value": "week"
        },
        {
          "name": "Day",
          "value": "day"
        },
        {
          "name": "Hour",
          "value": "hour"
        },
        {
          "name": "Minute",
          "value": "minute"
        },
        {
          "name": "Second",
          "value": "second"
        },
        {
          "name": "Millisecond",
          "value": "millisecond"
        }
      ],
      "displayOptions": {
        "show": {
          "operation": [
            "getTimeBetweenDates"
          ]
        }
      },
      "default": [
        "day"
      ]
    },
    "part": {
      "displayName": "Part",
      "name": "part",
      "type": "options",
      "options": [
        {
          "name": "Year",
          "value": "year"
        },
        {
          "name": "Month",
          "value": "month"
        },
        {
          "name": "Week",
          "value": "week"
        },
        {
          "name": "Day",
          "value": "day"
        },
        {
          "name": "Hour",
          "value": "hour"
        },
        {
          "name": "Minute",
          "value": "minute"
        },
        {
          "name": "Second",
          "value": "second"
        }
      ],
      "default": "month",
      "displayOptions": {
        "show": {
          "operation": [
            "extractDate"
          ]
        }
      },
      "ai_hint": "根据 REST 规范选择方法: 查询用 GET，创建用 POST，更新用 PUT/PATCH。"
    }
  },
  "configuration_logic": {
    "required_sequence": [
      "descriptionType",
      "toolDescription",
      "operation",
      "notice",
      "includeTime",
      "outputFieldName",
      "options",
      "notice",
      "magnitude",
      "timeUnit",
      "duration",
      "outputFieldName",
      "options",
      "notice",
      "magnitude",
      "timeUnit",
      "duration",
      "outputFieldName",
      "options",
      "notice",
      "date",
      "format",
      "customFormat",
      "outputFieldName",
      "options",
      "notice",
      "date",
      "mode",
      "toNearest",
      "to",
      "outputFieldName",
      "options",
      "startDate",
      "endDate",
      "units",
      "outputFieldName",
      "options",
      "notice",
      "date",
      "part",
      "outputFieldName",
      "options"
    ],
    "conditional_rules": [
      "IF descriptionType == 'manual' THEN SHOW parameter 'toolDescription'",
      "IF operation == 'getCurrentDate' THEN SHOW parameter 'notice'",
      "IF operation == 'getCurrentDate' THEN SHOW parameter 'includeTime'",
      "IF operation == 'getCurrentDate' THEN SHOW parameter 'outputFieldName'",
      "IF operation == 'getCurrentDate' THEN SHOW parameter 'options'",
      "IF operation == 'addToDate' THEN SHOW parameter 'notice'",
      "IF operation == 'addToDate' THEN SHOW parameter 'magnitude'",
      "IF operation == 'addToDate' THEN SHOW parameter 'timeUnit'",
      "IF operation == 'addToDate' THEN SHOW parameter 'duration'",
      "IF operation == 'addToDate' THEN SHOW parameter 'outputFieldName'",
      "IF operation == 'addToDate' THEN SHOW parameter 'options'",
      "IF operation == 'subtractFromDate' THEN SHOW parameter 'notice'",
      "IF operation == 'subtractFromDate' THEN SHOW parameter 'magnitude'",
      "IF operation == 'subtractFromDate' THEN SHOW parameter 'timeUnit'",
      "IF operation == 'subtractFromDate' THEN SHOW parameter 'duration'",
      "IF operation == 'subtractFromDate' THEN SHOW parameter 'outputFieldName'",
      "IF operation == 'subtractFromDate' THEN SHOW parameter 'options'",
      "IF operation == 'formatDate' THEN SHOW parameter 'notice'",
      "IF operation == 'formatDate' THEN SHOW parameter 'date'",
      "IF operation == 'formatDate' THEN SHOW parameter 'format'",
      "IF format == 'custom' AND operation == 'formatDate' THEN SHOW parameter 'customFormat'",
      "IF operation == 'formatDate' THEN SHOW parameter 'outputFieldName'",
      "IF operation == 'formatDate' THEN SHOW parameter 'options'",
      "IF operation == 'roundDate' THEN SHOW parameter 'notice'",
      "IF operation == 'roundDate' THEN SHOW parameter 'date'",
      "IF operation == 'roundDate' THEN SHOW parameter 'mode'",
      "IF operation == 'roundDate' AND mode == 'roundDown' THEN SHOW parameter 'toNearest'",
      "IF operation == 'roundDate' AND mode == 'roundUp' THEN SHOW parameter 'to'",
      "IF operation == 'roundDate' THEN SHOW parameter 'outputFieldName'",
      "IF operation == 'roundDate' THEN SHOW parameter 'options'",
      "IF operation == 'getTimeBetweenDates' THEN SHOW parameter 'startDate'",
      "IF operation == 'getTimeBetweenDates' THEN SHOW parameter 'endDate'",
      "IF operation == 'getTimeBetweenDates' THEN SHOW parameter 'units'",
      "IF operation == 'getTimeBetweenDates' THEN SHOW parameter 'outputFieldName'",
      "IF operation == 'getTimeBetweenDates' THEN SHOW parameter 'options'",
      "IF operation == 'extractDate' THEN SHOW parameter 'notice'",
      "IF operation == 'extractDate' THEN SHOW parameter 'date'",
      "IF operation == 'extractDate' THEN SHOW parameter 'part'",
      "IF operation == 'extractDate' THEN SHOW parameter 'outputFieldName'",
      "IF operation == 'extractDate' THEN SHOW parameter 'options'"
    ]
  }
}