{
  "node_id": "@n8n/n8n-nodes-langchain.toolCode",
  "name": "@n8n/n8n-nodes-langchain.toolCode",
  "version": [
    1,
    1.1,
    1.2,
    1.3
  ],
  "semantic_context": "Write a tool in JS or Python",
  "parameters": {
    "notice": {
      "displayName": "All properties will be required. To make them optional, use the 'JSON Schema' schema type instead",
      "name": "notice",
      "type": "notice",
      "default": "",
      "displayOptions": {
        "show": {
          "specifyInputSchema": [
            true
          ],
          "@version": [
            {
              "_cnd": {
                "gte": 1.3
              }
            }
          ],
          "schemaType": [
            "fromJson"
          ]
        }
      }
    },
    "noticeTemplateExample": {
      "displayName": "See an example of a conversational agent with custom tool written in JavaScript <a href=\"/templates/1963\" target=\"_blank\">here</a>.",
      "name": "noticeTemplateExample",
      "type": "notice",
      "default": ""
    },
    "name": {
      "displayName": "Name",
      "name": "name",
      "type": "string",
      "default": "",
      "placeholder": "e.g. My_Tool",
      "validateType": "string-alphanumeric",
      "description": "The name of the function to be called, could contain letters, numbers, and underscores only",
      "displayOptions": {
        "show": {
          "@version": [
            1.1
          ]
        }
      },
      "ai_hint": "The name of the function to be called, could contain letters, numbers, and underscores only"
    },
    "description": {
      "displayName": "Description",
      "name": "description",
      "type": "string",
      "default": "",
      "placeholder": "Call this tool to get a random color. The input should be a string with comma separted names of colors to exclude.",
      "typeOptions": {
        "rows": 3
      }
    },
    "language": {
      "displayName": "Language",
      "name": "language",
      "type": "options",
      "noDataExpression": true,
      "options": [
        {
          "name": "JavaScript",
          "value": "javaScript"
        },
        {
          "name": "Python (Beta)",
          "value": "python"
        }
      ],
      "default": "javaScript",
      "ai_hint": "根据 REST 规范选择方法: 查询用 GET，创建用 POST，更新用 PUT/PATCH。"
    },
    "jsCode": {
      "displayName": "JavaScript",
      "name": "jsCode",
      "type": "string",
      "displayOptions": {
        "show": {
          "language": [
            "javaScript"
          ]
        }
      },
      "typeOptions": {
        "editor": "jsEditor"
      },
      "default": "// Example: convert the incoming query to uppercase and return it\nreturn query.toUpperCase()",
      "hint": "You can access the input the tool receives via the input property \"query\". The returned value should be a single string.",
      "description": "E.g. Converts any text to uppercase",
      "noDataExpression": true,
      "ai_hint": "E.g. Converts any text to uppercase"
    },
    "pythonCode": {
      "displayName": "Python",
      "name": "pythonCode",
      "type": "string",
      "displayOptions": {
        "show": {
          "language": [
            "python"
          ]
        }
      },
      "typeOptions": {
        "editor": "codeNodeEditor",
        "editorLanguage": "python"
      },
      "default": "# Example: convert the incoming query to uppercase and return it\nreturn _query.upper()",
      "hint": "You can access the input the tool receives via the input property \"_query\". The returned value should be a single string.",
      "description": "E.g. Converts any text to uppercase",
      "noDataExpression": true,
      "ai_hint": "E.g. Converts any text to uppercase"
    },
    "specifyInputSchema": {
      "displayName": "Specify Input Schema",
      "name": "specifyInputSchema",
      "type": "boolean",
      "description": "Whether to specify the schema for the function. This would require the LLM to provide the input in the correct format and would validate it against the schema.",
      "noDataExpression": true,
      "default": false,
      "ai_hint": "布尔值：true 或 false。"
    },
    "schemaType": {
      "displayName": "Schema Type",
      "name": "schemaType",
      "type": "options",
      "noDataExpression": true,
      "options": [
        {
          "name": "Generate From JSON Example",
          "value": "fromJson",
          "description": "Generate a schema from an example JSON object"
        },
        {
          "name": "Define using JSON Schema",
          "value": "manual",
          "description": "Define the JSON schema manually"
        }
      ],
      "default": "fromJson",
      "description": "How to specify the schema for the function",
      "displayOptions": {
        "show": {
          "specifyInputSchema": [
            true
          ]
        }
      },
      "ai_hint": "根据 REST 规范选择方法: 查询用 GET，创建用 POST，更新用 PUT/PATCH。"
    },
    "jsonSchemaExample": {
      "displayName": "JSON Example",
      "name": "jsonSchemaExample",
      "type": "json",
      "default": "{\n\t\"some_input\": \"some_value\"\n}",
      "noDataExpression": true,
      "typeOptions": {
        "rows": 10
      },
      "displayOptions": {
        "show": {
          "specifyInputSchema": [
            true
          ],
          "schemaType": [
            "fromJson"
          ]
        }
      },
      "description": "Example JSON object to use to generate the schema",
      "ai_hint": "Example JSON object to use to generate the schema"
    },
    "inputSchema": {
      "displayName": "Input Schema",
      "name": "inputSchema",
      "type": "json",
      "default": "{\n\"type\": \"object\",\n\"properties\": {\n\t\"some_input\": {\n\t\t\"type\": \"string\",\n\t\t\"description\": \"Some input to the function\"\n\t\t}\n\t}\n}",
      "noDataExpression": false,
      "typeOptions": {
        "rows": 10
      },
      "displayOptions": {
        "show": {
          "specifyInputSchema": [
            true
          ],
          "schemaType": [
            "manual"
          ]
        }
      },
      "description": "Schema to use for the function",
      "hint": "Use <a target=\"_blank\" href=\"https://json-schema.org/\">JSON Schema</a> format (<a target=\"_blank\" href=\"https://json-schema.org/learn/miscellaneous-examples.html\">examples</a>). $refs syntax is currently not supported.",
      "ai_hint": "Schema to use for the function"
    }
  },
  "configuration_logic": {
    "required_sequence": [
      "notice",
      "noticeTemplateExample",
      "name",
      "name",
      "description",
      "language",
      "jsCode",
      "pythonCode",
      "specifyInputSchema",
      "schemaType",
      "jsonSchemaExample",
      "notice",
      "inputSchema"
    ],
    "conditional_rules": [
      "IF @version == 1 THEN SHOW parameter 'name'",
      "IF @version == 1.1 THEN SHOW parameter 'name'",
      "IF language == 'javaScript' THEN SHOW parameter 'jsCode'",
      "IF language == 'python' THEN SHOW parameter 'pythonCode'",
      "IF specifyInputSchema == True THEN SHOW parameter 'schemaType'",
      "IF specifyInputSchema == True AND schemaType == 'fromJson' THEN SHOW parameter 'jsonSchemaExample'",
      "IF specifyInputSchema == True AND @version == {'_cnd': {'gte': 1.3}} AND schemaType == 'fromJson' THEN SHOW parameter 'notice'",
      "IF specifyInputSchema == True AND schemaType == 'manual' THEN SHOW parameter 'inputSchema'"
    ]
  }
}