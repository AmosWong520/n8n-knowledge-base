{
  "node_id": "n8n-nodes-base.postgresTool",
  "name": "Postgres Tool",
  "version": 1,
  "semantic_context": "Get, add and update data in Postgres",
  "natural_language_description": "这是 Postgres Tool 节点。主要用于: Get, add and update data in Postgres",
  "parameters": {
    "descriptionType": {
      "displayName": "Tool Description",
      "name": "descriptionType",
      "type": "options",
      "required": false,
      "default": "auto",
      "description": "",
      "natural_language_description": "参数名: Tool Description | 默认值: auto",
      "available_options": [
        "Set Automatically (值: auto) - Automatically set based on resource and operation",
        "Set Manually (值: manual) - Manually set the description"
      ]
    },
    "toolDescription": {
      "displayName": "Description",
      "name": "toolDescription",
      "type": "string",
      "required": true,
      "default": "Get, add and update data in Postgres",
      "description": "Explain to the LLM what this tool does, a good, specific description would allow LLMs to produce expected results much more often",
      "natural_language_description": "参数名: Description | 作用: Explain to the LLM what this tool does, a good, specific description would allow LLMs to produce expected results much more often | 默认值: Get, add and update data in Postgres | (必填项)"
    },
    "resource": {
      "displayName": "Resource",
      "name": "resource",
      "type": "hidden",
      "required": false,
      "default": "database",
      "description": "",
      "natural_language_description": "参数名: Resource | 默认值: database",
      "available_options": [
        "Database (值: database)"
      ]
    },
    "operation": {
      "displayName": "Operation",
      "name": "operation",
      "type": "options",
      "required": false,
      "default": "insert",
      "description": "",
      "natural_language_description": "参数名: Operation | 默认值: insert",
      "available_options": [
        "Delete (值: deleteTable) - Delete an entire table or rows in a table",
        "Execute Query (值: executeQuery) - Execute an SQL query",
        "Insert (值: insert) - Insert rows in a table",
        "Insert or Update (值: upsert) - Insert or update rows in a table",
        "Select (值: select) - Select rows from a table",
        "Update (值: update) - Update rows in a table"
      ]
    },
    "schema": {
      "displayName": "Schema",
      "name": "schema",
      "type": "resourceLocator",
      "required": true,
      "default": {
        "mode": "list",
        "value": "public"
      },
      "description": "The schema that contains the table you want to work on",
      "natural_language_description": "参数名: Schema | 作用: The schema that contains the table you want to work on | 默认值: {'mode': 'list', 'value': 'public'} | (必填项)"
    },
    "table": {
      "displayName": "Table",
      "name": "table",
      "type": "resourceLocator",
      "required": true,
      "default": {
        "mode": "list",
        "value": ""
      },
      "description": "The table you want to work on",
      "natural_language_description": "参数名: Table | 作用: The table you want to work on | 默认值: {'mode': 'list', 'value': ''} | (必填项)"
    },
    "deleteCommand": {
      "displayName": "Command",
      "name": "deleteCommand",
      "type": "options",
      "required": false,
      "default": "truncate",
      "description": "",
      "natural_language_description": "参数名: Command | 默认值: truncate",
      "available_options": [
        "Truncate (值: truncate) - Only removes the table's data and preserves the table's structure",
        "Delete (值: delete) - Delete the rows that match the 'Select Rows' conditions below. If no selection is made, all rows in the table are deleted.",
        "Drop (值: drop) - Deletes the table's data and also the table's structure permanently"
      ]
    },
    "restartSequences": {
      "displayName": "Restart Sequences",
      "name": "restartSequences",
      "type": "boolean",
      "required": false,
      "default": false,
      "description": "Whether to reset identity (auto-increment) columns to their initial values",
      "natural_language_description": "参数名: Restart Sequences | 作用: Whether to reset identity (auto-increment) columns to their initial values | 默认值: False"
    },
    "where": {
      "displayName": "Select Rows",
      "name": "where",
      "type": "fixedCollection",
      "required": false,
      "default": {},
      "description": "If not set, all rows will be selected",
      "natural_language_description": "参数名: Select Rows | 作用: If not set, all rows will be selected | 默认值: {}",
      "available_options": [
        "values (值: None)"
      ]
    },
    "combineConditions": {
      "displayName": "Combine Conditions",
      "name": "combineConditions",
      "type": "options",
      "required": false,
      "default": "AND",
      "description": "How to combine the conditions defined in \"Select Rows\": AND requires all conditions to be true, OR requires at least one condition to be true",
      "natural_language_description": "参数名: Combine Conditions | 作用: How to combine the conditions defined in \"Select Rows\": AND requires all conditions to be true, OR requires at least one condition to be true | 默认值: AND",
      "available_options": [
        "AND (值: AND) - Only rows that meet all the conditions are selected",
        "OR (值: OR) - Rows that meet at least one condition are selected"
      ]
    },
    "options": {
      "displayName": "Options",
      "name": "options",
      "type": "collection",
      "required": false,
      "default": {},
      "description": "",
      "natural_language_description": "参数名: Options | 默认值: {}",
      "available_options": [
        "cascade (值: None) - Whether to drop all objects that depend on the table, such as views and sequences",
        "connectionTimeout (值: None) - Number of seconds reserved for connecting to the database",
        "delayClosingIdleConnection (值: None) - Number of seconds to wait before idle connection would be eligible for closing",
        "queryBatching (值: None) - The way queries should be sent to the database",
        "queryReplacement (值: None) - Comma-separated list of the values you want to use as query parameters. More info.",
        "treatQueryParametersInSingleQuotesAsText (值: None) - Whether to treat query parameters enclosed in single quotes as text e.g. '$1'",
        "outputColumns (值: None) - Choose from the list, or specify IDs using an expression",
        "largeNumbersOutput (值: None)",
        "skipOnConflict (值: None) - Whether to skip the row and do not throw error if a unique constraint or exclusion constraint is violated",
        "replaceEmptyStrings (值: None) - Whether to replace empty strings with NULL in input, could be useful when data come from spreadsheet"
      ]
    },
    "query": {
      "displayName": "Query",
      "name": "query",
      "type": "string",
      "required": true,
      "default": "",
      "description": "The SQL query to execute. You can use n8n expressions and $1, $2, $3, etc to refer to the 'Query Parameters' set in options below.",
      "natural_language_description": "参数名: Query | 作用: The SQL query to execute. You can use n8n expressions and $1, $2, $3, etc to refer to the 'Query Parameters' set in options below. | 提示: Consider using query parameters to prevent SQL injection attacks. Add them in the options below | (必填项)"
    },
    "dataMode": {
      "displayName": "Data Mode",
      "name": "dataMode",
      "type": "options",
      "required": false,
      "default": "autoMapInputData",
      "description": "Whether to map node input properties and the table data automatically or manually",
      "natural_language_description": "参数名: Data Mode | 作用: Whether to map node input properties and the table data automatically or manually | 默认值: autoMapInputData",
      "available_options": [
        "Auto-Map Input Data to Columns (值: autoMapInputData) - Use when node input properties names exactly match the table column names",
        "Map Each Column Manually (值: defineBelow) - Set the value for each destination column manually"
      ]
    },
    "notice": {
      "displayName": "\n\t\tIn this mode, make sure incoming data fields are named the same as the columns in your table. If needed, use an 'Edit Fields' node before this node to change the field names.\n\t\t",
      "name": "notice",
      "type": "notice",
      "required": false,
      "default": "",
      "description": "",
      "natural_language_description": "参数名: \n\t\tIn this mode, make sure incoming data fields are named the same as the columns in your table. If needed, use an 'Edit Fields' node before this node to change the field names.\n\t\t"
    },
    "valuesToSend": {
      "displayName": "Values to Send",
      "name": "valuesToSend",
      "type": "fixedCollection",
      "required": false,
      "default": {},
      "description": "",
      "natural_language_description": "参数名: Values to Send | 默认值: {}",
      "available_options": [
        "values (值: None)"
      ]
    },
    "columns": {
      "displayName": "Columns",
      "name": "columns",
      "type": "resourceMapper",
      "required": true,
      "default": {
        "mappingMode": "defineBelow",
        "value": null
      },
      "description": "",
      "natural_language_description": "参数名: Columns | 默认值: {'mappingMode': 'defineBelow', 'value': None} | (必填项)"
    },
    "returnAll": {
      "displayName": "Return All",
      "name": "returnAll",
      "type": "boolean",
      "required": false,
      "default": false,
      "description": "Whether to return all results or only up to a given limit",
      "natural_language_description": "参数名: Return All | 作用: Whether to return all results or only up to a given limit | 默认值: False"
    },
    "limit": {
      "displayName": "Limit",
      "name": "limit",
      "type": "number",
      "required": false,
      "default": 50,
      "description": "Max number of results to return",
      "natural_language_description": "参数名: Limit | 作用: Max number of results to return | 默认值: 50"
    },
    "sort": {
      "displayName": "Sort",
      "name": "sort",
      "type": "fixedCollection",
      "required": false,
      "default": {},
      "description": "",
      "natural_language_description": "参数名: Sort | 默认值: {}",
      "available_options": [
        "values (值: None)"
      ]
    },
    "columnToMatchOn": {
      "displayName": "Unique Column",
      "name": "columnToMatchOn",
      "type": "options",
      "required": true,
      "default": "",
      "description": "The column to compare when finding the rows to update. Choose from the list, or specify an ID using an expression.",
      "natural_language_description": "参数名: Unique Column | 作用: The column to compare when finding the rows to update. Choose from the list, or specify an ID using an expression. | 提示: Used to find the correct row(s) to update. Doesn't get changed. Has to be unique. | (必填项)"
    },
    "valueToMatchOn": {
      "displayName": "Value of Unique Column",
      "name": "valueToMatchOn",
      "type": "string",
      "required": false,
      "default": "",
      "description": "Rows with a value in the specified \"Column to Match On\" that corresponds to the value in this field will be updated. New rows will be created for non-matching items.",
      "natural_language_description": "参数名: Value of Unique Column | 作用: Rows with a value in the specified \"Column to Match On\" that corresponds to the value in this field will be updated. New rows will be created for non-matching items."
    }
  },
  "ids_manifest": {
    "role": "sink",
    "input_contract": {
      "preferred_source": "{{ $json.payload.primary }}",
      "accepts_binary": false
    },
    "output_contract": {
      "standardizer_logic": "return { payload: { primary: upstream } }"
    }
  }
}