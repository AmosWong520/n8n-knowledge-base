{
  "node_id": "n8n-nodes-base.readWriteFile",
  "name": "n8n-nodes-base.readWriteFile",
  "version": 1,
  "semantic_context": "Read or write files from the computer that runs n8n",
  "parameters": {
    "info": {
      "displayName": "Use this node to read and write files on the same computer running n8n. To handle files between different computers please use other nodes (e.g. FTP, HTTP Request, AWS).",
      "name": "info",
      "type": "notice",
      "default": ""
    },
    "operation": {
      "displayName": "Operation",
      "name": "operation",
      "type": "options",
      "noDataExpression": true,
      "options": [
        {
          "name": "Read File(s) From Disk",
          "value": "read",
          "description": "Retrieve one or more files from the computer that runs n8n",
          "action": "Read File(s) From Disk"
        },
        {
          "name": "Write File to Disk",
          "value": "write",
          "description": "Create a binary file on the computer that runs n8n",
          "action": "Write File to Disk"
        }
      ],
      "default": "read",
      "ai_hint": "根据 REST 规范选择方法: 查询用 GET，创建用 POST，更新用 PUT/PATCH。"
    },
    "fileSelector": {
      "displayName": "File(s) Selector",
      "name": "fileSelector",
      "type": "string",
      "default": "",
      "required": true,
      "placeholder": "e.g. /home/user/Pictures/**/*.png",
      "hint": "Supports patterns, learn more <a href=\"https://github.com/micromatch/picomatch#basic-globbing\" target=\"_blank\">here</a>",
      "description": "Specify a file's path or path pattern to read multiple files. Always use forward-slashes for path separator even on Windows.",
      "displayOptions": {
        "show": {
          "operation": [
            "read"
          ]
        }
      },
      "ai_hint": "Specify a file's path or path pattern to read multiple files. Always use forward-slashes for path separator even on Windows."
    },
    "options": {
      "displayName": "Options",
      "name": "options",
      "type": "collection",
      "placeholder": "Add option",
      "default": {},
      "options": [
        {
          "displayName": "Append",
          "name": "append",
          "type": "boolean",
          "default": false,
          "description": "Whether to append to an existing file. While it's commonly used with text files, it's not limited to them, however, it wouldn't be applicable for file types that have a specific structure like most binary formats."
        }
      ],
      "displayOptions": {
        "show": {
          "operation": [
            "write"
          ]
        }
      },
      "ai_hint": "此参数为 fixedCollection，包含嵌套字段，不要扁平化。"
    },
    "fileName": {
      "displayName": "File Path and Name",
      "name": "fileName",
      "type": "string",
      "default": "",
      "required": true,
      "placeholder": "e.g. /data/example.jpg",
      "description": "Path and name of the file that should be written. Also include the file extension.",
      "displayOptions": {
        "show": {
          "operation": [
            "write"
          ]
        }
      },
      "ai_hint": "Path and name of the file that should be written. Also include the file extension."
    },
    "dataPropertyName": {
      "displayName": "Input Binary Field",
      "name": "dataPropertyName",
      "type": "string",
      "default": "data",
      "placeholder": "e.g. data",
      "required": true,
      "hint": "The name of the input binary field containing the file to be written",
      "displayOptions": {
        "show": {
          "operation": [
            "write"
          ]
        }
      }
    }
  },
  "configuration_logic": {
    "required_sequence": [
      "info",
      "operation",
      "fileSelector",
      "options",
      "fileName",
      "dataPropertyName",
      "options"
    ],
    "conditional_rules": [
      "IF operation == 'read' THEN SHOW parameter 'fileSelector'",
      "IF operation == 'read' THEN SHOW parameter 'options'",
      "IF operation == 'write' THEN SHOW parameter 'fileName'",
      "IF operation == 'write' THEN SHOW parameter 'dataPropertyName'",
      "IF operation == 'write' THEN SHOW parameter 'options'"
    ]
  }
}