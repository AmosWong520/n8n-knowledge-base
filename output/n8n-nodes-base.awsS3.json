{
  "node_id": "n8n-nodes-base.awsS3",
  "name": "n8n-nodes-base.awsS3",
  "version": 1,
  "semantic_context": "Sends data to AWS S3",
  "parameters": {
    "resource": {
      "displayName": "Resource",
      "name": "resource",
      "type": "options",
      "noDataExpression": true,
      "options": [
        {
          "name": "Bucket",
          "value": "bucket"
        },
        {
          "name": "File",
          "value": "file"
        },
        {
          "name": "Folder",
          "value": "folder"
        }
      ],
      "default": "file",
      "ai_hint": "根据 REST 规范选择方法: 查询用 GET，创建用 POST，更新用 PUT/PATCH。"
    },
    "operation": {
      "displayName": "Operation",
      "name": "operation",
      "type": "options",
      "noDataExpression": true,
      "displayOptions": {
        "show": {
          "resource": [
            "file"
          ]
        }
      },
      "options": [
        {
          "name": "Copy",
          "value": "copy",
          "description": "Copy a file",
          "action": "Copy a file"
        },
        {
          "name": "Delete",
          "value": "delete",
          "description": "Delete a file",
          "action": "Delete a file"
        },
        {
          "name": "Download",
          "value": "download",
          "description": "Download a file",
          "action": "Download a file"
        },
        {
          "name": "Get Many",
          "value": "getAll",
          "description": "Get many files",
          "action": "Get many files"
        },
        {
          "name": "Upload",
          "value": "upload",
          "description": "Upload a file",
          "action": "Upload a file"
        }
      ],
      "default": "download",
      "ai_hint": "根据 REST 规范选择方法: 查询用 GET，创建用 POST，更新用 PUT/PATCH。"
    },
    "name": {
      "displayName": "Name",
      "name": "name",
      "type": "string",
      "required": true,
      "default": "",
      "displayOptions": {
        "show": {
          "resource": [
            "bucket"
          ],
          "operation": [
            "delete"
          ]
        }
      },
      "description": "Name of the AWS S3 bucket to delete",
      "ai_hint": "Name of the AWS S3 bucket to delete"
    },
    "additionalFields": {
      "displayName": "Additional Fields",
      "name": "additionalFields",
      "type": "collection",
      "placeholder": "Add Field",
      "displayOptions": {
        "show": {
          "resource": [
            "file"
          ],
          "operation": [
            "upload"
          ]
        }
      },
      "default": {},
      "options": [
        {
          "displayName": "ACL",
          "name": "acl",
          "type": "options",
          "options": [
            {
              "name": "Authenticated Read",
              "value": "authenticatedRead"
            },
            {
              "name": "AWS Exec Read",
              "value": "awsExecRead"
            },
            {
              "name": "Bucket Owner Full Control",
              "value": "bucketOwnerFullControl"
            },
            {
              "name": "Bucket Owner Read",
              "value": "bucketOwnerRead"
            },
            {
              "name": "Private",
              "value": "private"
            },
            {
              "name": "Public Read",
              "value": "publicRead"
            },
            {
              "name": "Public Read Write",
              "value": "publicReadWrite"
            }
          ],
          "default": "private",
          "description": "The canned ACL to apply to the object"
        },
        {
          "displayName": "Grant Full Control",
          "name": "grantFullControl",
          "type": "boolean",
          "default": false,
          "description": "Whether to give the grantee READ, READ_ACP, and WRITE_ACP permissions on the object"
        },
        {
          "displayName": "Grant Read",
          "name": "grantRead",
          "type": "boolean",
          "default": false,
          "description": "Whether to allow grantee to read the object data and its metadata"
        },
        {
          "displayName": "Grant Read ACP",
          "name": "grantReadAcp",
          "type": "boolean",
          "default": false,
          "description": "Whether to allow grantee to read the object ACL"
        },
        {
          "displayName": "Grant Write ACP",
          "name": "grantWriteAcp",
          "type": "boolean",
          "default": false,
          "description": "Whether to allow grantee to write the ACL for the applicable object"
        },
        {
          "displayName": "Lock Legal Hold",
          "name": "lockLegalHold",
          "type": "boolean",
          "default": false,
          "description": "Whether a legal hold will be applied to this object"
        },
        {
          "displayName": "Lock Mode",
          "name": "lockMode",
          "type": "options",
          "options": [
            {
              "name": "Governance",
              "value": "governance"
            },
            {
              "name": "Compliance",
              "value": "compliance"
            }
          ],
          "default": "",
          "description": "The Object Lock mode that you want to apply to this object"
        },
        {
          "displayName": "Lock Retain Until Date",
          "name": "lockRetainUntilDate",
          "type": "dateTime",
          "default": "",
          "description": "The date and time when you want this object's Object Lock to expire"
        },
        {
          "displayName": "Parent Folder Key",
          "name": "parentFolderKey",
          "type": "string",
          "default": "",
          "description": "Parent folder you want to create the file in"
        },
        {
          "displayName": "Requester Pays",
          "name": "requesterPays",
          "type": "boolean",
          "default": false,
          "description": "Whether the requester will pay for requests and data transfer. While Requester Pays is enabled, anonymous access to this bucket is disabled."
        },
        {
          "displayName": "Server Side Encryption",
          "name": "serverSideEncryption",
          "type": "options",
          "options": [
            {
              "name": "AES256",
              "value": "AES256"
            },
            {
              "name": "AWS:KMS",
              "value": "aws:kms"
            }
          ],
          "default": "",
          "description": "The server-side encryption algorithm used when storing this object in Amazon S3"
        },
        {
          "displayName": "Server Side Encryption Context",
          "name": "serverSideEncryptionContext",
          "type": "string",
          "default": "",
          "description": "Specifies the AWS KMS Encryption Context to use for object encryption"
        },
        {
          "displayName": "Server Side Encryption AWS KMS Key ID",
          "name": "encryptionAwsKmsKeyId",
          "type": "string",
          "default": "",
          "description": "If x-amz-server-side-encryption is present and has the value of aws:kms"
        },
        {
          "displayName": "Server Side Encryption Customer Algorithm",
          "name": "serversideEncryptionCustomerAlgorithm",
          "type": "string",
          "default": "",
          "description": "Specifies the algorithm to use to when encrypting the object (for example, AES256)"
        },
        {
          "displayName": "Server Side Encryption Customer Key",
          "name": "serversideEncryptionCustomerKey",
          "type": "string",
          "default": "",
          "description": "Specifies the customer-provided encryption key for Amazon S3 to use in encrypting data"
        },
        {
          "displayName": "Server Side Encryption Customer Key MD5",
          "name": "serversideEncryptionCustomerKeyMD5",
          "type": "string",
          "default": "",
          "description": "Specifies the 128-bit MD5 digest of the encryption key according to RFC 1321"
        },
        {
          "displayName": "Storage Class",
          "name": "storageClass",
          "type": "options",
          "options": [
            {
              "name": "Deep Archive",
              "value": "deepArchive"
            },
            {
              "name": "Glacier",
              "value": "glacier"
            },
            {
              "name": "Intelligent Tiering",
              "value": "intelligentTiering"
            },
            {
              "name": "One Zone IA",
              "value": "onezoneIA"
            },
            {
              "name": "Standard",
              "value": "standard"
            },
            {
              "name": "Standard IA",
              "value": "standardIA"
            }
          ],
          "default": "standard",
          "description": "Amazon S3 storage classes"
        }
      ],
      "ai_hint": "此参数为 fixedCollection，包含嵌套字段，不要扁平化。"
    },
    "returnAll": {
      "displayName": "Return All",
      "name": "returnAll",
      "type": "boolean",
      "displayOptions": {
        "show": {
          "operation": [
            "getAll"
          ],
          "resource": [
            "file"
          ]
        }
      },
      "default": false,
      "description": "Whether to return all results or only up to a given limit",
      "ai_hint": "布尔值：true 或 false。"
    },
    "limit": {
      "displayName": "Limit",
      "name": "limit",
      "type": "number",
      "displayOptions": {
        "show": {
          "operation": [
            "getAll"
          ],
          "resource": [
            "file"
          ],
          "returnAll": [
            false
          ]
        }
      },
      "typeOptions": {
        "minValue": 1,
        "maxValue": 500
      },
      "default": 100,
      "description": "Max number of results to return",
      "ai_hint": "Max number of results to return"
    },
    "bucketName": {
      "displayName": "Bucket Name",
      "name": "bucketName",
      "type": "string",
      "required": true,
      "default": "",
      "displayOptions": {
        "show": {
          "resource": [
            "file"
          ],
          "operation": [
            "getAll"
          ]
        }
      }
    },
    "folderName": {
      "displayName": "Folder Name",
      "name": "folderName",
      "type": "string",
      "required": true,
      "default": "",
      "displayOptions": {
        "show": {
          "resource": [
            "folder"
          ],
          "operation": [
            "create"
          ]
        }
      }
    },
    "folderKey": {
      "displayName": "Folder Key",
      "name": "folderKey",
      "type": "string",
      "required": true,
      "default": "",
      "displayOptions": {
        "show": {
          "resource": [
            "folder"
          ],
          "operation": [
            "delete"
          ]
        }
      }
    },
    "options": {
      "displayName": "Options",
      "name": "options",
      "type": "collection",
      "placeholder": "Add Field",
      "default": {},
      "displayOptions": {
        "show": {
          "resource": [
            "file"
          ],
          "operation": [
            "getAll"
          ]
        }
      },
      "options": [
        {
          "displayName": "Fetch Owner",
          "name": "fetchOwner",
          "type": "boolean",
          "default": false,
          "description": "The owner field is not present in listV2 by default, if you want to return owner field with each key in the result then set the fetch owner field to true"
        },
        {
          "displayName": "Folder Key",
          "name": "folderKey",
          "type": "string",
          "default": ""
        }
      ],
      "ai_hint": "此参数为 fixedCollection，包含嵌套字段，不要扁平化。"
    },
    "sourcePath": {
      "displayName": "Source Path",
      "name": "sourcePath",
      "type": "string",
      "required": true,
      "default": "",
      "placeholder": "/bucket/my-image.jpg",
      "displayOptions": {
        "show": {
          "resource": [
            "file"
          ],
          "operation": [
            "copy"
          ]
        }
      },
      "description": "The name of the source bucket should start with (/) and key name of the source object, separated by a slash (/)",
      "ai_hint": "The name of the source bucket should start with (/) and key name of the source object, separated by a slash (/)"
    },
    "destinationPath": {
      "displayName": "Destination Path",
      "name": "destinationPath",
      "type": "string",
      "required": true,
      "default": "",
      "placeholder": "/bucket/my-second-image.jpg",
      "displayOptions": {
        "show": {
          "resource": [
            "file"
          ],
          "operation": [
            "copy"
          ]
        }
      },
      "description": "The name of the destination bucket and key name of the destination object, separated by a slash (/)",
      "ai_hint": "The name of the destination bucket and key name of the destination object, separated by a slash (/)"
    },
    "fileName": {
      "displayName": "File Name",
      "name": "fileName",
      "type": "string",
      "default": "",
      "displayOptions": {
        "show": {
          "resource": [
            "file"
          ],
          "operation": [
            "upload"
          ],
          "binaryData": [
            true
          ]
        }
      },
      "description": "If not set the binary data filename will be used",
      "ai_hint": "If not set the binary data filename will be used"
    },
    "binaryData": {
      "displayName": "Binary File",
      "name": "binaryData",
      "type": "boolean",
      "default": true,
      "displayOptions": {
        "show": {
          "operation": [
            "upload"
          ],
          "resource": [
            "file"
          ]
        }
      },
      "description": "Whether the data to upload should be taken from binary field",
      "ai_hint": "布尔值：true 或 false。"
    },
    "fileContent": {
      "displayName": "File Content",
      "name": "fileContent",
      "type": "string",
      "default": "",
      "displayOptions": {
        "show": {
          "operation": [
            "upload"
          ],
          "resource": [
            "file"
          ],
          "binaryData": [
            false
          ]
        }
      },
      "placeholder": "",
      "description": "The text content of the file to upload",
      "ai_hint": "The text content of the file to upload"
    },
    "binaryPropertyName": {
      "displayName": "Put Output File in Field",
      "name": "binaryPropertyName",
      "type": "string",
      "required": true,
      "default": "data",
      "displayOptions": {
        "show": {
          "operation": [
            "download"
          ],
          "resource": [
            "file"
          ]
        }
      },
      "hint": "The name of the output binary field to put the file in"
    },
    "tagsUi": {
      "displayName": "Tags",
      "name": "tagsUi",
      "placeholder": "Add Tag",
      "type": "fixedCollection",
      "default": {},
      "typeOptions": {
        "multipleValues": true
      },
      "displayOptions": {
        "show": {
          "resource": [
            "file"
          ],
          "operation": [
            "upload"
          ]
        }
      },
      "options": [
        {
          "name": "tagsValues",
          "displayName": "Tag",
          "values": [
            {
              "displayName": "Key",
              "name": "key",
              "type": "string",
              "default": ""
            },
            {
              "displayName": "Value",
              "name": "value",
              "type": "string",
              "default": ""
            }
          ]
        }
      ],
      "description": "Optional extra headers to add to the message (most headers are allowed)",
      "ai_hint": "此参数为 fixedCollection，包含嵌套字段，不要扁平化。"
    },
    "fileKey": {
      "displayName": "File Key",
      "name": "fileKey",
      "type": "string",
      "required": true,
      "default": "",
      "displayOptions": {
        "show": {
          "resource": [
            "file"
          ],
          "operation": [
            "delete"
          ]
        }
      }
    }
  },
  "configuration_logic": {
    "required_sequence": [
      "resource",
      "operation",
      "name",
      "additionalFields",
      "name",
      "returnAll",
      "limit",
      "bucketName",
      "returnAll",
      "limit",
      "additionalFields",
      "operation",
      "bucketName",
      "folderName",
      "additionalFields",
      "bucketName",
      "folderKey",
      "bucketName",
      "returnAll",
      "limit",
      "options",
      "operation",
      "sourcePath",
      "destinationPath",
      "additionalFields",
      "bucketName",
      "fileName",
      "fileName",
      "binaryData",
      "fileContent",
      "binaryPropertyName",
      "additionalFields",
      "tagsUi",
      "bucketName",
      "fileKey",
      "binaryPropertyName",
      "bucketName",
      "fileKey",
      "options",
      "bucketName",
      "returnAll",
      "limit",
      "options"
    ],
    "conditional_rules": [
      "IF resource == 'bucket' THEN SHOW parameter 'operation'",
      "IF resource == 'bucket' AND operation == 'create' THEN SHOW parameter 'name'",
      "IF resource == 'bucket' AND operation == 'create' THEN SHOW parameter 'additionalFields'",
      "IF resource == 'bucket' AND operation == 'delete' THEN SHOW parameter 'name'",
      "IF operation == 'getAll' AND resource == 'bucket' THEN SHOW parameter 'returnAll'",
      "IF operation == 'getAll' AND resource == 'bucket' AND returnAll == False THEN SHOW parameter 'limit'",
      "IF resource == 'bucket' AND operation == 'search' THEN SHOW parameter 'bucketName'",
      "IF operation == 'search' AND resource == 'bucket' THEN SHOW parameter 'returnAll'",
      "IF operation == 'search' AND resource == 'bucket' AND returnAll == False THEN SHOW parameter 'limit'",
      "IF resource == 'bucket' AND operation == 'search' THEN SHOW parameter 'additionalFields'",
      "IF resource == 'folder' THEN SHOW parameter 'operation'",
      "IF resource == 'folder' AND operation == 'create' THEN SHOW parameter 'bucketName'",
      "IF resource == 'folder' AND operation == 'create' THEN SHOW parameter 'folderName'",
      "IF resource == 'folder' AND operation == 'create' THEN SHOW parameter 'additionalFields'",
      "IF resource == 'folder' AND operation == 'delete' THEN SHOW parameter 'bucketName'",
      "IF resource == 'folder' AND operation == 'delete' THEN SHOW parameter 'folderKey'",
      "IF resource == 'folder' AND operation == 'getAll' THEN SHOW parameter 'bucketName'",
      "IF operation == 'getAll' AND resource == 'folder' THEN SHOW parameter 'returnAll'",
      "IF operation == 'getAll' AND resource == 'folder' AND returnAll == False THEN SHOW parameter 'limit'",
      "IF resource == 'folder' AND operation == 'getAll' THEN SHOW parameter 'options'",
      "IF resource == 'file' THEN SHOW parameter 'operation'",
      "IF resource == 'file' AND operation == 'copy' THEN SHOW parameter 'sourcePath'",
      "IF resource == 'file' AND operation == 'copy' THEN SHOW parameter 'destinationPath'",
      "IF resource == 'file' AND operation == 'copy' THEN SHOW parameter 'additionalFields'",
      "IF resource == 'file' AND operation == 'upload' THEN SHOW parameter 'bucketName'",
      "IF resource == 'file' AND operation == 'upload' AND binaryData == False THEN SHOW parameter 'fileName'",
      "IF resource == 'file' AND operation == 'upload' AND binaryData == True THEN SHOW parameter 'fileName'",
      "IF operation == 'upload' AND resource == 'file' THEN SHOW parameter 'binaryData'",
      "IF operation == 'upload' AND resource == 'file' AND binaryData == False THEN SHOW parameter 'fileContent'",
      "IF operation == 'upload' AND resource == 'file' AND binaryData == True THEN SHOW parameter 'binaryPropertyName'",
      "IF resource == 'file' AND operation == 'upload' THEN SHOW parameter 'additionalFields'",
      "IF resource == 'file' AND operation == 'upload' THEN SHOW parameter 'tagsUi'",
      "IF resource == 'file' AND operation == 'download' THEN SHOW parameter 'bucketName'",
      "IF resource == 'file' AND operation == 'download' THEN SHOW parameter 'fileKey'",
      "IF operation == 'download' AND resource == 'file' THEN SHOW parameter 'binaryPropertyName'",
      "IF resource == 'file' AND operation == 'delete' THEN SHOW parameter 'bucketName'",
      "IF resource == 'file' AND operation == 'delete' THEN SHOW parameter 'fileKey'",
      "IF resource == 'file' AND operation == 'delete' THEN SHOW parameter 'options'",
      "IF resource == 'file' AND operation == 'getAll' THEN SHOW parameter 'bucketName'",
      "IF operation == 'getAll' AND resource == 'file' THEN SHOW parameter 'returnAll'",
      "IF operation == 'getAll' AND resource == 'file' AND returnAll == False THEN SHOW parameter 'limit'",
      "IF resource == 'file' AND operation == 'getAll' THEN SHOW parameter 'options'"
    ]
  }
}